apiVersion: monitoring.coreos.com/v1alpha1
kind: AlertmanagerConfig
metadata:
  name: slack-alerts
  namespace: monitoring
  labels:
    release: kube-prometheus    # â˜… ì´ê²Œ í•µì‹¬ â˜…
spec:
  route:
    receiver: monitoring/slack-alerts/slack-notifications
    group_by: ["alertname"]
  receivers:
  - name: "slack-notifications"
    slackConfigs:
    - apiURL:
        name: alertmanager-slack
        key: slack_api_url
      channel: "#alerts"      # Slack ì±„ë„ ì´ë¦„
      sendResolved: true
      title: "ðŸš¨ [{{ .Status | toUpper }}] {{ .CommonLabels.alertname }}"
      text: >-
        *Namespace:* {{ .CommonLabels.namespace }}
        *Pod:* {{ .CommonLabels.pod }}
        *Severity:* {{ .CommonLabels.severity }}
        *Description:* {{ .CommonAnnotations.description }}
